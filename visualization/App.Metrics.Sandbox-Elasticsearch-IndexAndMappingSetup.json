DELETE /metrics-timer
DELETE /metrics-counter
DELETE /metrics-apdex
DELETE /metrics-gauge
DELETE /metrics-histogram
DELETE /metrics-meter

PUT metrics-timer
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-timer/_mapping/timer
{
  "properties": {
    "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

PUT metrics-counter
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-counter/_mapping/counter
{
  "properties": {
     "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

PUT metrics-apdex
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-apdex/_mapping/apdex
{
  "properties": {
     "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

PUT metrics-gauge
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-gauge/_mapping/gauge
{
  "properties": {
     "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

PUT metrics-histogram
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-histogram/_mapping/histogram
{
  "properties": {
     "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

PUT metrics-meter
{
  "settings" : {
      "index" : {
          "number_of_shards" : 3,
          "number_of_replicas" : 2
      }
  }
}

PUT metrics-meter/_mapping/meter
{
  "properties": {
    "tags.env": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.exception": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.app": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.route": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.server": {
        "type": "text",
        "fielddata": true
    },
    "tags.item": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.client_id": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.http_status_code": { 
      "type":     "text",
      "fielddata": true
    },
    "tags.health_check_name": { 
      "type":     "text",
      "fielddata": true
    }
  }
}

POST /_aliases
{
  "actions": [ { 
    "add": { 
      "indices": [
        "metrics-timer",
        "metrics-counter",
        "metrics-apdex",
        "metrics-gauge",
        "metrics-histogram",
        "metrics-meter"
      ], 
      "alias": "metrics"
    } 
  } ]
}